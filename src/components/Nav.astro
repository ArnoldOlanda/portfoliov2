---
import { NavItem } from './NavItem';
import { menuItems } from '../data/menuItems';
---

<div class="flex flex-col gap-4 fixed right-4 top-[30%] z-50">
  {
    menuItems.map((item, index) => (
      <a
        href={item.url}
        class=" nav-link bg-gray-800 group relative border-0 w-14 h-14 flex justify-center items-center rounded-full transition-all duration-300 hover:bg-blue-400"
      >
        <img
          src={item.icon}
          alt={item.text}
          class="w-6 h-6 text-gray-800 dark:text-white"
        />
        <span class="absolute right-0 top-0 bg-blue-400 pl-6 pr-8 h-full opacity-0 group-hover:-translate-x-6 group-hover:opacity-100 group-hover:rounded-r-none transition-all duration-300 flex justify-center items-center rounded-full -z-10">
          {item.text}
        </span>
      </a>
    ))
  }
</div>

<style scoped>
  div a.active {
    background-color: rgb(96 165 250);
  }
</style>

<script>
  const navLinks = document.querySelectorAll(
    '.nav-link'
  ) as NodeListOf<HTMLAnchorElement>;
  const currentPath = window.location.href;

  navLinks.forEach((link) => {
    console.log(link.href, currentPath);
    const linkPath = link.href;
    if (linkPath === currentPath) {
      link.classList.add('active');
    }
  });
</script>
